<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles/navbar.css"/>
    <link rel="stylesheet" href="/styles/signUp.css">
    <title>Sign Up</title>
    <style>
        .links:hover{
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div id="navBarContainer"></div><br/>
    <h1 class="signUpheading">Sign Up!</h1>
    <div id="containers">
        <form id="form" class="form" onsubmit="Register(event)">
            <input id="name" type="text" placeholder="Enter Name.."/>
            <input type="text" id="email" placeholder="Enter email"/>
            <input type="text" id="username" placeholder="username"/>
            <input type="password" id="password" placeholder="password"/>
            <input type="number" id="mobile" placeholder="Enter your phone number.."/>
            <input type="text" id="description" placeholder="description.."/>
            <input type="submit" id="submit"/>
            <a href="signIn.html" style="text-align: center; margin-bottom: 10px;" class="links">Go to sign in page</a>
        </form>
    </div><br/>
</body>
<script>
    async function Register(event){
    try{
      event.preventDefault()
      var register_data = {
          name: document.getElementById('name').value,
          email: document.getElementById('email').value,
          password: document.getElementById('password').value,
          username: document.getElementById('username').value,
          mobile: document.getElementById('mobile').value,
          description: document.getElementById('description').value,
      };
      register_data=JSON.stringify(register_data);
      console.log('register_data:', register_data)
    }
    catch(err){
        console.log('err:', err)
    }

    let reg_api = `https://masai-api-mocker.herokuapp.com/auth/register`;
    let response = await fetch(reg_api,{
        method:'POST',
        body:register_data,

        headers:{
            "Content-Type":"application/json",
        },
    });

    let data = await response.json();
    console.log('data:', data);

    location.href="signIn.html";
}


</script>
<script type="module" src="/scripts/validation.js"></script>
<script type="module" src="/scripts/index.js"></script>

</html>